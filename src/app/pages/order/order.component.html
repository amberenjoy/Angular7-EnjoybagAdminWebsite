<!--
 * @Description: In User Settings Edit
 * @Author: your name
 * @Date: 2019-08-05 10:53:20
 * @LastEditTime: 2019-08-26 15:59:58
 * @LastEditors: Please set LastEditors
 -->
<section class="content">
    <h2>Orders</h2>
    <div class="header">
        <mat-form-field>
            <label for="">Search</label>
            <input matInput (keypress)="onKeyPress($event)">
        </mat-form-field>
        <button (click)="filterByUser('total')">Sort by Total</button>
        <button class="black" (click)="filterByUser('status')">Sort by Status</button>
    </div>
    <table mat-table [dataSource]="sortedData" class="mat-elevation-z8 component">
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef> ID</th>
            <td mat-cell *matCellDef="let order"> {{order.id}} </td>
        </ng-container>
        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef>status</th>
            <td mat-cell *matCellDef="let order"> {{order.status}} </td>
        </ng-container>
        <ng-container matColumnDef="customer">
            <th mat-header-cell *matHeaderCellDef>user </th>
            <td mat-cell *matCellDef="let order"> {{order.billing.firstname}} </td>
        </ng-container>
        <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef>total</th>
            <td mat-cell *matCellDef="let order"> {{order.total | currency:'HKD'}} </td>
        </ng-container>
        <ng-container matColumnDef="items">
            <th mat-header-cell *matHeaderCellDef>items</th>
            <td mat-cell *matCellDef="let order"> {{order.orderItems.length}} </td>
        </ng-container>
        <ng-container matColumnDef="payment">
            <th mat-header-cell *matHeaderCellDef>payment </th>
            <td mat-cell *matCellDef="let order">{{order.payment.paymentStatus}}
            </td>
        </ng-container>
        <ng-container matColumnDef="delivery">
            <th mat-header-cell *matHeaderCellDef>delivery</th>
            <td mat-cell *matCellDef="let order"> {{order.delivery.deliveryMethod}}</td>
        </ng-container>
        <ng-container matColumnDef="deliveryStatus">
            <th mat-header-cell *matHeaderCellDef>delivery</th>
            <td mat-cell *matCellDef="let order">{{order.delivery.deliveryStatus}}</td>
        </ng-container>
        <ng-container matColumnDef="createAt">
            <th mat-header-cell *matHeaderCellDef>Date Created </th>
            <td mat-cell *matCellDef="let order"> {{order.createAt}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="openOrderInfo(row.id)"></tr>
    </table>
</section>